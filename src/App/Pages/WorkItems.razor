@page "/workitems"
@using Develix.AzureDevOps.Connector.Model
@using Develix.AzureDevOps.Connector.Reader

<MudPaper xs=12 sm=8 Elevation="2" Class="pa-12">
    <MudGrid>
        <MudItem xs="12">
            <MudText Typo="Typo.h5">Get work items test page</MudText>
        </MudItem>
        <MudItem xs="12" sm="8">
            <QueryClientLogin />
        </MudItem>
    </MudGrid>
    <MudGrid>
        <MudItem xs="12" sm="6" xl=7>
            <MultiInputNumericField Values="@workItemIds" />
        </MudItem>
        <MudItem xs=12 sm="2" xl="1">
            <MudPaper Elevation="2" Class="pa-4">
                <MudButton Disabled="@(!CanGetWorkItems())" OnClick="GetWorkItems" Variant="Variant.Filled" Color="Color.Primary" Class="ml-auto">
                    @if (processing)
                    {
                        <MudProgressCircular Class="ms-n1" Size="Size.Small" Indeterminate="true" />
                    }
                    else
                    {
                        <MudText>Load</MudText>
                    }
                </MudButton>
            </MudPaper>
        </MudItem>
        @if (workItems is not null)
        {
            <MudItem xs="12">
                <WorkItemCardView WorkItems="workItems" />
            </MudItem>
        }
        @if (errorText is not null)
        {
            <MudItem xs="12">
                <MudText Color="Color.Error">@errorText</MudText>
            </MudItem>
        }
    </MudGrid>







</MudPaper>
